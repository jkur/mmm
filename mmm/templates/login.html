{% macro render_field(field) %}
  <dt>{{ field.label }}
  <dd>{{ field(**kwargs)|safe }}
  {% if field.errors %}
    <ul class=errors>
    {% for error in field.errors %}
      <li>{{ error }}</li>
    {% endfor %}
    </ul>
  {% endif %}
  </dd>
{% endmacro %}




<html>
    <body>
        <form name="loginform" method="POST" action="/login">
            <dl>{{ loginform.csrf_token }}
                {% if loginform.csrf_token.errors %}
                    <div class="warning">You have submitted an invalid CSRF token</div>
                {% endif %}
                {{ render_field(loginform.username) }}
                {{ render_field(loginform.password) }}
            </dl>
            <p><input type="submit" value="Add" />
        </form>
    </body>
</html>
